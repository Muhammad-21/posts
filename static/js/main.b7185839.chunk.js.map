{"version":3,"sources":["components/UI/MyModal/MyModal.module.css","components/UI/input/Myinput.module.css","components/UI/button/Mybutton.module.css","components/UI/Loader/Loader.module.css","pages/About.jsx","pages/Error.jsx","API/PostService.js","components/UI/input/Myinput.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/UI/button/Mybutton.jsx","components/Postform.jsx","components/Postitem.jsx","components/Postlist.jsx","components/UI/Loader/Loader.jsx","components/UI/MyModal/MyModal.jsx","utils/pages.js","components/UI/pagination/Pagination.jsx","hooks/useFetching.js","hooks/usePosts.js","pages/Posts.jsx","components/AppRouter.jsx","components/UI/Navbar/Navbar.jsx","App.js","index.js"],"names":["module","exports","About","Error","style","color","PostService","limit","page","axios","get","params","_limit","_page","response","Myinput","props","className","classes","myInput","MySelect","options","defaultValue","value","onChange","evt","target","disabled","map","option","name","PostFilter","filter","setFilter","query","e","placeholder","sort","selectedSort","Mybutton","children","onClick","myBtn","Postform","create","useState","title","body","post","setPost","onSubmit","preventDefault","newPost","id","Date","now","tittle","type","Postitem","remove","Postlist","posts","length","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","number","Loader","cl","loader","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","myModalContent","stopPropagation","getPagesCount","totalCount","Math","ceil","pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","usePosts","sortedPosts","useMemo","console","log","a","b","localeCompare","useSortedPosts","toLowerCase","includes","Posts","setPosts","modal","setModal","setPage","sortedAndSearchPosts","setTotalPages","callback","isLoading","setIstLoading","error","setError","fetching","message","useFetching","getAll","data","headers","fetchPosts","isPostLoading","postError","useEffect","marginTop","margin","display","justifyContent","AppRouter","path","Navbar","to","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b7185839.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3Z8gE\",\"myModalContent\":\"MyModal_myModalContent__w8Phq\",\"active\":\"MyModal_active__3uRuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"Myinput_myInput__3xXTa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"Mybutton_myBtn__J1IeD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2B-uc\",\"rotate\":\"Loader_rotate__2nrIp\"};","import React from 'react'\r\n\r\nexport default function About() {\r\n    return (\r\n        <h1>\r\n            Текст\r\n        </h1>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Error() {\r\n    return (\r\n        <div>\r\n            <h1 style={{color:'red'}}>\r\n                Вы перешли на несуществующую страницу\r\n            </h1>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nexport default class PostService {\r\n    static async getAll(limit = 10, page = 1) {\r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                params: {\r\n                    _limit:limit,\r\n                    _page:page\r\n                }\r\n            });\r\n            return response;\r\n    }\r\n}","import React from 'react'\r\nimport classes from './Myinput.module.css'\r\n\r\nexport default function Myinput(props) {\r\n    return (\r\n        <input className={classes.myInput} {...props}/>\r\n    );\r\n};\r\n","import React from 'react'\r\n\r\nexport default function MySelect({options, defaultValue,value, onChange}) {\r\n    return (\r\n            <select \r\n                value={value}\r\n                onChange={evt => onChange(evt.target.value)}\r\n            >\r\n                <option disabled value=\"\">{defaultValue}</option>\r\n                {options.map(option =>\r\n                       <option key={option.value} value={option.value}>\r\n                           {option.name}\r\n                        </option> \r\n                    )}\r\n            </select>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Myinput from \"../components/UI/input/Myinput\";\r\nimport MySelect from \"../components/UI/select/MySelect\";\r\nexport default function PostFilter({filter, setFilter}) {\r\n    return (\r\n        <div>\r\n        <Myinput\r\n          value={filter.query}\r\n          onChange={e => setFilter({...filter, query: e.target.value})} \r\n          placeholder=\"Поиск...\"\r\n        />\r\n        <MySelect\r\n          value = {filter.sort}\r\n          onChange = {selectedSort => setFilter({...filter,sort:selectedSort})} \r\n          defaultValue=\"Сортировка\"\r\n          options={[\r\n            {value:'title', name: 'По названию'},\r\n            {value:'body', name: 'По описанию'},\r\n          ]}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport classes from './Mybutton.module.css'\r\nexport default function Mybutton({children, style, onClick, ...props}) {\r\n    return (\r\n        <button style={style} onClick={onClick} className={classes.myBtn}>\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n","import React,{useState} from 'react'\r\nimport Mybutton from \"../components/UI/button/Mybutton\";\r\nimport Myinput from \"../components/UI/input/Myinput\";\r\n\r\nexport default function Postform({create}) {\r\n    const [post,setPost] = useState({title:'', body:''});\r\n  \r\n    const addNewPost = (evt) => {\r\n        evt.preventDefault();\r\n        const newPost ={\r\n            ...post,id:Date.now(),\r\n        }\r\n        create(newPost);\r\n        setPost({id:'',tittle:'', body:''});\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addNewPost}>\r\n        <Myinput \r\n          value={post.title||''}\r\n          onChange = {evt=>setPost({...post, title:evt.target.value})}\r\n          type=\"text\"  \r\n          placeholder=\"название поста\"\r\n        />\r\n        <Myinput\r\n          value={post.body||''}\r\n          onChange = {evt=>setPost({ ...post, body:evt.target.value})} \r\n          type=\"text\" \r\n          placeholder=\"описание поста\"\r\n        />\r\n        <Mybutton>создать пост</Mybutton>\r\n      </form> \r\n    )\r\n}\r\n","import React from 'react'\r\nimport Mybutton from './UI/button/Mybutton'\r\n\r\nexport default function Postitem(props) {\r\n  \r\n    return (\r\n        <div className=\"post\">\r\n        <div className=\"post_content\">\r\n          <strong>{props.post.id} {props.post.title}</strong>\r\n            <div> \r\n              {props.post.body}\r\n            </div>\r\n        </div>\r\n        <div className=\"post_btns\">\r\n          <Mybutton onClick={() => props.remove(props.post)}>\r\n            удалить\r\n          </Mybutton>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { TransitionGroup,CSSTransition } from 'react-transition-group'\r\nimport Postitem from './Postitem'\r\n\r\n\r\nexport default function Postlist({posts, title, remove}) {\r\n    if(!posts.length){\r\n        return (\r\n            <h1 style={{textAlign:\"center\"}}>Посты не найдены!</h1>\r\n        )\r\n    }\r\n    return (\r\n        <div>\r\n            <h1 style={{textAlign:'center'}}>{title}</h1>\r\n            <TransitionGroup>\r\n                {posts.map((post,index) =>\r\n                    <CSSTransition\r\n                        key={post.id}\r\n                        timeout={500}\r\n                        classNames=\"post\"\r\n                    >                    \r\n                        <Postitem remove={remove} number={index + 1} post={post}/>\r\n                    </CSSTransition>\r\n                )}\r\n            </TransitionGroup>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport cl from './Loader.module.css';\r\nexport default function Loader() {\r\n    return (\r\n        <div className={cl.loader}>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport cl from './MyModal.module.css';\r\nexport default function MyModal({children, visible, setVisible}) {\r\n    \r\n    const rootClasses = [cl.myModal];\r\n\r\n    if(visible){\r\n        rootClasses.push(cl.active);\r\n    }\r\n    return (\r\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\r\n            <div className={cl.myModalContent} onClick={e=> e.stopPropagation()}>\r\n                {children}\r\n             </div>\r\n        </div>\r\n    )\r\n}\r\n","export const getPagesCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for (let i = 0; i< totalPages; i++){\r\n        result.push(i+1);\r\n    }\r\n    return result;\r\n}","import React from 'react'\r\nimport {getPagesArray} from '../../../utils/pages';\r\n\r\n\r\n\r\nexport default function pagination({totalPages, changePage, page}) {\r\n  let pagesArray = getPagesArray(totalPages);\r\n    return (\r\n        <div className=\"page__wrapper\">\r\n        {pagesArray.map(p => \r\n          <span\r\n            onClick={() => changePage(p)} \r\n            key={p}  \r\n            className={page === p ? 'page page__current':'page'}\r\n          >\r\n            {p}\r\n          </span>\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n","import {useState} from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading,setIstLoading] = useState(false);\r\n    const [error,setError] = useState('');\r\n\r\n    const fetching = async () => {\r\n        try {\r\n            setIstLoading(true);\r\n            await callback();\r\n        }catch (e){\r\n            setError(e.message);\r\n        } finally {\r\n            setIstLoading(false);\r\n        }\r\n    }\r\n\r\n    return [fetching, isLoading, error];\r\n}","import {useMemo} from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort)  => {\r\n    const sortedPosts = useMemo( () => {\r\n        console.log('Ф/Я getSortedPosts')\r\n        if(sort){\r\n          return [...posts].sort((a,b) => a[sort].localeCompare(b[sort]));\r\n        }\r\n        return posts;\r\n      },[sort, posts])\r\n\r\n      return sortedPosts;\r\n}\r\n\r\n\r\nexport const usePosts = (posts, sort, query)  => {\r\n    const sortedPosts = useSortedPosts(posts,sort)\r\n    const sortedAndSearchPosts = useMemo(() => {\r\n        return sortedPosts.filter(post => post.title.toLowerCase().includes(query))\r\n      },[query, sortedPosts])\r\n    return sortedAndSearchPosts;\r\n}","import React,{useState,useEffect} from \"react\";\r\nimport PostService from \"../API/PostService\";\r\nimport PostFilter from \"../components/PostFilter\";\r\nimport Postform from \"../components/Postform\";\r\nimport Postlist from \"../components/Postlist\";\r\nimport Mybutton from \"../components/UI/button/Mybutton\";\r\nimport Loader from \"../components/UI/Loader/Loader\";\r\nimport MyModal from \"../components/UI/MyModal/MyModal\";\r\nimport Pagination from \"../components/UI/pagination/Pagination\";\r\n\r\n\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport { usePosts } from \"../hooks/usePosts\";\r\nimport {getPagesCount} from \"../utils/pages\";\r\n\r\n\r\n\r\nfunction Posts() {\r\n  const [posts,setPosts]= useState([]);\r\n  const [filter,setFilter] = useState({sort:'', query:''})\r\n  const [modal,setModal] = useState(false);\r\n  const [limit,setLimit] = useState(10);\r\n  const [page,setPage] = useState(1);\r\n  const sortedAndSearchPosts = usePosts(posts,filter.sort,filter.query);\r\n  const [totalPages,setTotalPages] = useState(0);\r\n  const [fetchPosts, isPostLoading,postError] = useFetching(async () => { \r\n    const response = await PostService.getAll(limit, page);\r\n    setPosts(response.data)\r\n    const totalCount = response.headers['x-total-count'];\r\n    setTotalPages(getPagesCount(totalCount,limit));\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, [page])\r\n\r\nconst createPost = (newPost) => {\r\n  setPosts([...posts,newPost]);\r\n  setModal(false);\r\n}\r\n\r\nconst removePost = (post) => {\r\n  console.log(post);\r\n  setPosts(posts.filter(p => p.id !== post.id));\r\n}\r\n\r\nconst changePage = (page) => {\r\n  setPage(page)\r\n}\r\n  return (\r\n    <div className=\"App\">\r\n      <Mybutton style={{marginTop:30}} onClick={() => setModal(true)}>\r\n        Создать пользователья\r\n      </Mybutton>\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <Postform create={createPost}/>\r\n      </MyModal>\r\n      <hr style={{margin:\"15px 0\"}}/>\r\n      <PostFilter \r\n        filter={filter} \r\n        setFilter={setFilter}\r\n      />\r\n      {\r\n      postError && \r\n        <h1>Произошла ошибка ${postError}</h1>\r\n      }\r\n      {\r\n        isPostLoading\r\n          ? <div style={{display:'flex',justifyContent:'center',marginTop:50}}><Loader /></div> \r\n          : <Postlist remove={removePost} posts={sortedAndSearchPosts} title=\"Посты про Js\"/>\r\n      }\r\n      <Pagination totalPages={totalPages} changePage={changePage} page={page}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n","import React from 'react'\r\nimport {Switch,Route} from \"react-router-dom\";\r\nimport About from \"../pages/About\";\r\nimport Error from \"../pages/Error\";\r\nimport Posts from \"../pages/Posts\";\r\nexport default function AppRouter() {\r\n    return (\r\n        <Switch>\r\n          <Route path=\"/about\">\r\n            <About />\r\n          </Route>\r\n          <Route path=\"/posts\">\r\n            <Posts/>\r\n          </Route>\r\n          <Route path=\"/error\">\r\n            <Error/>\r\n          </Route>\r\n        </Switch>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nexport default function Navbar() {\r\n    return (\r\n        <div className=\"navbar\">\r\n        <div className=\"navbar__links\">\r\n          <Link to=\"/about\">О сайте</Link>\r\n          <Link to=\"/posts\">Посты</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React from \"react\";\nimport { BrowserRouter,Redirect } from \"react-router-dom\";\nimport '../src/styles/App.css';\nimport AppRouter from \"./components/AppRouter\";\nimport Navbar from \"./components/UI/Navbar/Navbar\";\n\n\n\n\nfunction App() {\n  return (\n    <BrowserRouter>\n        <Navbar/>\n        <AppRouter/>\n        <Redirect to=\"/error\"/>\n    </BrowserRouter>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}