{"version":3,"sources":["components/UI/MyModal/MyModal.module.css","components/UI/Loader/Loader.module.css","components/UI/input/Myinput.module.css","components/UI/button/Mybutton.module.css","API/PostService.js","components/UI/Loader/Loader.jsx","hooks/useFetching.js","components/UI/input/Myinput.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/UI/button/Mybutton.jsx","components/Postform.jsx","components/Postitem.jsx","components/Postlist.jsx","components/UI/MyModal/MyModal.jsx","utils/pages.js","components/UI/pagination/Pagination.jsx","hooks/usePosts.js","pages/Posts.jsx","router/index.js","pages/About.jsx","pages/PostIdPages.jsx","components/AppRouter.jsx","components/UI/Navbar/Navbar.jsx","App.js","index.js"],"names":["module","exports","PostService","limit","page","axios","get","params","_limit","_page","response","id","Loader","className","cl","loader","useFetching","callback","useState","isLoading","setIstLoading","error","setError","fetching","a","message","Myinput","props","classes","myInput","MySelect","options","defaultValue","value","onChange","evt","target","disabled","map","option","name","PostFilter","filter","setFilter","query","e","placeholder","sort","selectedSort","Mybutton","children","style","onClick","myBtn","Postform","create","title","body","post","setPost","onSubmit","preventDefault","newPost","Date","now","tittle","type","Postitem","router","useHistory","console","log","push","remove","Postlist","posts","length","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","number","MyModal","visible","setVisible","rootClasses","myModal","active","join","myModalContent","stopPropagation","getPagesCount","totalCount","Math","ceil","pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","usePosts","sortedPosts","useMemo","b","localeCompare","useSortedPosts","toLowerCase","includes","Posts","routes","path","component","exact","setPosts","modal","setModal","setPage","sortedAndSearchPosts","setTotalPages","getAll","data","headers","fetchPosts","isPostLoading","postError","useEffect","marginTop","margin","display","justifyContent","useParams","comments","setComments","getById","fetchPostById","getCommentsByPostId","fetchComments","isCommentLoading","comm","email","AppRouter","route","to","Navbar","App","ReactDOM","render","document","getElementById"],"mappings":"oGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,eAAiB,gCAAgC,OAAS,0B,mBCA/GD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,yB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,MAAQ,0B,0LCALC,E,kIACjB,2GAAoBC,EAApB,+BAA4B,GAAIC,EAAhC,+BAAuC,EAAvC,SAC+BC,IAAMC,IAAI,6CAA8C,CAC3EC,OAAQ,CACJC,OAAOL,EACPM,MAAML,KAJtB,cACcM,EADd,yBAOeA,GAPf,2C,kHASA,WAAqBC,GAArB,uFAC2BN,IAAMC,IAAN,qDAAwDK,IADnF,cACUD,EADV,yBAEWA,GAFX,2C,+HAIA,WAAiCC,GAAjC,uFAC2BN,IAAMC,IAAN,qDAAwDK,EAAxD,cAD3B,cACUD,EADV,yBAEWA,GAFX,2C,+ECbW,SAASE,IACpB,OACI,qBAAKC,UAAWC,IAAGC,SCFpB,IAAMC,EAAc,SAACC,GACxB,MAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAyBF,mBAAS,IAAlC,mBAAOG,EAAP,KAAaC,EAAb,KAEMC,EAAQ,uCAAG,sBAAAC,EAAA,sEAETJ,GAAc,GAFL,SAGHH,IAHG,sDAKTK,EAAS,KAAEG,SALF,uBAOTL,GAAc,GAPL,0EAAH,qDAWd,MAAO,CAACG,EAAUJ,EAAWE,I,oCCdlB,SAASK,EAAQC,GAC5B,OACI,mCAAOd,UAAWe,IAAQC,SAAaF,ICHhC,SAASG,EAAT,GAA4D,IAAzCC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,aAAaC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SAC3D,OACQ,yBACID,MAAOA,EACPC,SAAU,SAAAC,GAAG,OAAID,EAASC,EAAIC,OAAOH,QAFzC,UAII,wBAAQI,UAAQ,EAACJ,MAAM,GAAvB,SAA2BD,IAC1BD,EAAQO,KAAI,SAAAC,GAAM,OACZ,wBAA2BN,MAAOM,EAAON,MAAzC,SACKM,EAAOC,MADCD,EAAON,aCP5B,SAASQ,EAAT,GAA0C,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,UACxC,OACI,gCACA,cAACjB,EAAD,CACEO,MAAOS,EAAOE,MACdV,SAAU,SAAAW,GAAC,OAAIF,EAAU,2BAAID,GAAL,IAAaE,MAAOC,EAAET,OAAOH,UACrDa,YAAY,sCAEd,cAAChB,EAAD,CACEG,MAASS,EAAOK,KAChBb,SAAY,SAAAc,GAAY,OAAIL,EAAU,2BAAID,GAAL,IAAYK,KAAKC,MACtDhB,aAAa,+DACbD,QAAS,CACP,CAACE,MAAM,QAASO,KAAM,iEACtB,CAACP,MAAM,OAAQO,KAAM,uE,8DCflB,SAASS,EAAT,GAAyD,IAAtCC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,QAAoB,iBACnE,OACI,wBAAQD,MAAOA,EAAOC,QAASA,EAASvC,UAAWe,IAAQyB,MAA3D,SACKH,ICDE,SAASI,EAAT,GAA6B,IAAVC,EAAS,EAATA,OAC9B,EAAuBrC,mBAAS,CAACsC,MAAM,GAAIC,KAAK,KAAhD,mBAAOC,EAAP,KAAYC,EAAZ,KAWA,OACI,uBAAMC,SAVS,SAACzB,GAChBA,EAAI0B,iBACJ,IAAMC,EAAO,2BACNJ,GADM,IACD/C,GAAGoD,KAAKC,QAEpBT,EAAOO,GACPH,EAAQ,CAAChD,GAAG,GAAGsD,OAAO,GAAIR,KAAK,MAI/B,UACA,cAAC/B,EAAD,CACEO,MAAOyB,EAAKF,OAAO,GACnBtB,SAAY,SAAAC,GAAG,OAAEwB,EAAQ,2BAAID,GAAL,IAAWF,MAAMrB,EAAIC,OAAOH,UACpDiC,KAAK,OACLpB,YAAY,oFAEd,cAACpB,EAAD,CACEO,MAAOyB,EAAKD,MAAM,GAClBvB,SAAY,SAAAC,GAAG,OAAEwB,EAAQ,2BAAKD,GAAN,IAAYD,KAAKtB,EAAIC,OAAOH,UACpDiC,KAAK,OACLpB,YAAY,oFAEd,cAACG,EAAD,qF,oBC1BO,SAASkB,EAASxC,GAC/B,IAAMyC,EAASC,cAEb,OADFC,QAAQC,IAAIH,GAEN,sBAAKvD,UAAU,OAAf,UACA,sBAAKA,UAAU,eAAf,UACE,mCAASc,EAAM+B,KAAK/C,GAApB,IAAyBgB,EAAM+B,KAAKF,SAClC,8BACG7B,EAAM+B,KAAKD,UAGlB,sBAAK5C,UAAU,YAAf,UACE,cAACoC,EAAD,CAAUG,QAAS,kBAAMgB,EAAOI,KAAP,iBAAsB7C,EAAM+B,KAAK/C,MAA1D,wDAGA,cAACsC,EAAD,CAAUG,QAAS,kBAAMzB,EAAM8C,OAAO9C,EAAM+B,OAA5C,8DCdK,SAASgB,EAAT,GAA2C,IAAxBC,EAAuB,EAAvBA,MAAOnB,EAAgB,EAAhBA,MAAOiB,EAAS,EAATA,OAC5C,OAAIE,EAAMC,OAMN,gCACI,oBAAIzB,MAAO,CAAC0B,UAAU,UAAtB,SAAkCrB,IAClC,cAACsB,EAAA,EAAD,UACKH,EAAMrC,KAAI,SAACoB,EAAKqB,GAAN,OACP,cAACC,EAAA,EAAD,CAEIC,QAAS,IACTC,WAAW,OAHf,SAKI,cAACf,EAAD,CAAUM,OAAQA,EAAQU,OAAQJ,EAAQ,EAAGrB,KAAMA,KAJ9CA,EAAK/C,YATtB,oBAAIwC,MAAO,CAAC0B,UAAU,UAAtB,qG,qBCNG,SAASO,EAAT,GAAmD,IAAjClC,EAAgC,EAAhCA,SAAUmC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,WAE1CC,EAAc,CAACzE,IAAG0E,SAKxB,OAHGH,GACCE,EAAYf,KAAK1D,IAAG2E,QAGpB,qBAAK5E,UAAW0E,EAAYG,KAAK,KAAMtC,QAAS,kBAAMkC,GAAW,IAAjE,SACI,qBAAKzE,UAAWC,IAAG6E,eAAgBvC,QAAS,SAAAP,GAAC,OAAGA,EAAE+C,mBAAlD,SACK1C,MCZV,IAAM2C,EAAgB,SAACC,EAAY3F,GACtC,OAAO4F,KAAKC,KAAKF,EAAa3F,ICInB,SAAS8F,EAAT,GAAqD,IAAhCC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,WAAY/F,EAAO,EAAPA,KACtDgG,EDFuB,SAACF,GAE1B,IADA,IAAIG,EAAS,GACJC,EAAI,EAAGA,EAAGJ,EAAYI,IAC3BD,EAAO7B,KAAK8B,EAAE,GAElB,OAAOD,ECHQE,CAAcL,GAC7B,OACI,qBAAKrF,UAAU,gBAAf,SACCuF,EAAW9D,KAAI,SAAAkE,GAAC,OACf,sBACEpD,QAAS,kBAAM+C,EAAWK,IAE1B3F,UAAWT,IAASoG,EAAI,qBAAqB,OAH/C,SAKGA,GAHIA,QCVV,IAaMC,EAAW,SAAC9B,EAAO5B,EAAMH,GAClC,IAAM8D,EAdoB,SAAC/B,EAAO5B,GAShC,OARkB4D,mBAAS,WAEzB,OADArC,QAAQC,IAAI,gCACTxB,EACM,YAAI4B,GAAO5B,MAAK,SAACvB,EAAEoF,GAAH,OAASpF,EAAEuB,GAAM8D,cAAcD,EAAE7D,OAEnD4B,IACP,CAAC5B,EAAM4B,IAOSmC,CAAenC,EAAM5B,GAIzC,OAH6B4D,mBAAQ,WACjC,OAAOD,EAAYhE,QAAO,SAAAgB,GAAI,OAAIA,EAAKF,MAAMuD,cAAcC,SAASpE,QACpE,CAACA,EAAO8D,KCyDDO,ICxEFC,EAAS,CAClB,CAACC,KAAK,SAAUC,UCHL,WACX,OACI,iEDC6BC,OAAM,GACvC,CAACF,KAAK,SAAUC,UDWpB,WACE,MAAwBlG,mBAAS,IAAjC,mBAAOyD,EAAP,KAAa2C,EAAb,KACA,EAA2BpG,mBAAS,CAAC6B,KAAK,GAAIH,MAAM,KAApD,mBAAOF,EAAP,KAAcC,EAAd,KACA,EAAyBzB,oBAAS,GAAlC,mBAAOqG,EAAP,KAAaC,EAAb,KACA,EAAyBtG,mBAAS,IAAlC,mBAAOf,EAAP,KACA,GADA,KACuBe,mBAAS,IAAhC,mBAAOd,EAAP,KAAYqH,EAAZ,KACMC,EAAuBjB,EAAS9B,EAAMjC,EAAOK,KAAKL,EAAOE,OAC/D,EAAmC1B,mBAAS,GAA5C,mBAAOgF,EAAP,KAAkByB,EAAlB,KACA,EAA8C3G,EAAW,sBAAC,8BAAAQ,EAAA,sEACjCtB,EAAY0H,OAAOzH,EAAOC,GADO,OAClDM,EADkD,OAExD4G,EAAS5G,EAASmH,MACZ/B,EAAapF,EAASoH,QAAQ,iBACpCH,EAAc9B,EAAcC,EAAW3F,IAJiB,4CAA1D,mBAAO4H,EAAP,KAAmBC,EAAnB,KAAiCC,EAAjC,KAwBA,OAjBAC,qBAAU,WACRH,MACC,CAAC3H,IAgBF,sBAAKS,UAAU,MAAf,UACE,cAACoC,EAAD,CAAUE,MAAO,CAACgF,UAAU,IAAK/E,QAAS,kBAAMoE,GAAS,IAAzD,uIAGA,cAACpC,EAAD,CAASC,QAASkC,EAAOjC,WAAYkC,EAArC,SACE,cAAClE,EAAD,CAAUC,OAnBC,SAACO,GAClBwD,EAAS,GAAD,mBAAK3C,GAAL,CAAWb,KACnB0D,GAAS,QAmBL,oBAAIrE,MAAO,CAACiF,OAAO,YACnB,cAAC3F,EAAD,CACEC,OAAQA,EACRC,UAAWA,IAGbsF,GACE,+HAAuBA,KAGvBD,EACI,qBAAK7E,MAAO,CAACkF,QAAQ,OAAOC,eAAe,SAASH,UAAU,IAA9D,SAAmE,cAACvH,EAAD,MACnE,cAAC8D,EAAD,CAAUD,OA5BH,SAACf,GAClBY,QAAQC,IAAIb,GACZ4D,EAAS3C,EAAMjC,QAAO,SAAA8D,GAAC,OAAIA,EAAE7F,KAAO+C,EAAK/C,QA0BDgE,MAAO+C,EAAsBlE,MAAM,yDAEvE,cAAC,EAAD,CAAY0C,WAAYA,EAAYC,WAzBvB,SAAC/F,GAClBqH,EAAQrH,IAwBwDA,KAAMA,QCjEnCiH,OAAM,GACvC,CAACF,KAAK,aAAcC,UEDT,WACX,IAAM7G,EAASgI,cACf,EAAuBrH,mBAAS,IAAhC,mBAAOwC,EAAP,KAAYC,EAAZ,KACA,EAA+BzC,mBAAS,IAAxC,mBAAOsH,EAAP,KAAgBC,EAAhB,KACA,EAAmCzH,EAAW,sBAAE,4BAAAQ,EAAA,sEACtBtB,EAAYwI,QAAQnI,EAAOI,IADL,OACtCD,EADsC,OAE5CiD,EAAQjD,EAASmH,MAF2B,4CAAhD,mBAAOc,EAAP,KAAsBxH,EAAtB,KAIA,EAA0CH,EAAW,sBAAE,4BAAAQ,EAAA,sEAC7BtB,EAAY0I,oBAAoBrI,EAAOI,IADV,OAC7CD,EAD6C,OAEnD+H,EAAY/H,EAASmH,MAF8B,4CAAvD,mBAAOgB,EAAP,KAAsBC,EAAtB,KAQA,OAJAZ,qBAAU,WACNS,EAAcpI,EAAOI,IACrBkI,EAActI,EAAOI,MACvB,IAEE,gCACI,sLAAsCJ,EAAOI,MAC5CQ,EACC,cAACP,EAAD,IACA,gCAAM8C,EAAK/C,GAAX,IAAgB+C,EAAKF,MAArB,OAEF,oGACCsF,EACC,cAAClI,EAAD,IACA,8BACG4H,EAASlG,KAAI,SAAAyG,GAAI,OACd,sBAAK5F,MAAO,CAACgF,UAAU,IAAvB,UACI,6BAAKY,EAAKC,QACV,8BAAMD,EAAKtF,mBF7BY4D,OAAM,IGJtC,SAAS4B,IACpB,OACI,eAAC,IAAD,WACG/B,EAAO5E,KAAK,SAAA4G,GAAK,OAChB,cAAC,IAAD,CAAO9B,UAAW8B,EAAM9B,UAAWD,KAAM+B,EAAM/B,KAAME,MAAO6B,EAAM7B,WAEpE,cAAC,IAAD,CAAU8B,GAAG,cCPR,SAASC,IACpB,OACI,qBAAKvI,UAAU,SAAf,SACA,sBAAKA,UAAU,gBAAf,UACE,cAAC,IAAD,CAAMsI,GAAG,SAAT,mDACA,cAAC,IAAD,CAAMA,GAAG,SAAT,iDCWKE,MATf,WACE,OACE,eAAC,IAAD,WACI,cAACD,EAAD,IACA,cAACH,EAAD,QCTRK,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.be151c76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3Z8gE\",\"myModalContent\":\"MyModal_myModalContent__w8Phq\",\"active\":\"MyModal_active__3uRuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2B-uc\",\"rotate\":\"Loader_rotate__2nrIp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"Myinput_myInput__3xXTa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"Mybutton_myBtn__J1IeD\"};","import axios from \"axios\";\r\nexport default class PostService {\r\n    static async getAll(limit = 10, page = 1) {\r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                params: {\r\n                    _limit:limit,\r\n                    _page:page\r\n                }\r\n            });\r\n            return response;\r\n    }\r\n    static async getById(id) {\r\n        const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}`);\r\n        return response;\r\n    }\r\n    static async getCommentsByPostId(id) {\r\n        const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\r\n        return response;\r\n}\r\n}","import React from 'react'\r\nimport cl from './Loader.module.css';\r\nexport default function Loader() {\r\n    return (\r\n        <div className={cl.loader}>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import {useState} from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading,setIstLoading] = useState(false);\r\n    const [error,setError] = useState('');\r\n\r\n    const fetching = async () => {\r\n        try {\r\n            setIstLoading(true);\r\n            await callback();\r\n        }catch (e){\r\n            setError(e.message);\r\n        } finally {\r\n            setIstLoading(false);\r\n        }\r\n    }\r\n\r\n    return [fetching, isLoading, error];\r\n}","import React from 'react'\r\nimport classes from './Myinput.module.css'\r\n\r\nexport default function Myinput(props) {\r\n    return (\r\n        <input className={classes.myInput} {...props}/>\r\n    );\r\n};\r\n","import React from 'react'\r\n\r\nexport default function MySelect({options, defaultValue,value, onChange}) {\r\n    return (\r\n            <select \r\n                value={value}\r\n                onChange={evt => onChange(evt.target.value)}\r\n            >\r\n                <option disabled value=\"\">{defaultValue}</option>\r\n                {options.map(option =>\r\n                       <option key={option.value} value={option.value}>\r\n                           {option.name}\r\n                        </option> \r\n                    )}\r\n            </select>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Myinput from \"../components/UI/input/Myinput\";\r\nimport MySelect from \"../components/UI/select/MySelect\";\r\nexport default function PostFilter({filter, setFilter}) {\r\n    return (\r\n        <div>\r\n        <Myinput\r\n          value={filter.query}\r\n          onChange={e => setFilter({...filter, query: e.target.value})} \r\n          placeholder=\"Поиск...\"\r\n        />\r\n        <MySelect\r\n          value = {filter.sort}\r\n          onChange = {selectedSort => setFilter({...filter,sort:selectedSort})} \r\n          defaultValue=\"Сортировка\"\r\n          options={[\r\n            {value:'title', name: 'По названию'},\r\n            {value:'body', name: 'По описанию'},\r\n          ]}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport classes from './Mybutton.module.css'\r\nexport default function Mybutton({children, style, onClick, ...props}) {\r\n    return (\r\n        <button style={style} onClick={onClick} className={classes.myBtn}>\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n","import React,{useState} from 'react'\r\nimport Mybutton from \"../components/UI/button/Mybutton\";\r\nimport Myinput from \"../components/UI/input/Myinput\";\r\n\r\nexport default function Postform({create}) {\r\n    const [post,setPost] = useState({title:'', body:''});\r\n  \r\n    const addNewPost = (evt) => {\r\n        evt.preventDefault();\r\n        const newPost ={\r\n            ...post,id:Date.now(),\r\n        }\r\n        create(newPost);\r\n        setPost({id:'',tittle:'', body:''});\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addNewPost}>\r\n        <Myinput \r\n          value={post.title||''}\r\n          onChange = {evt=>setPost({...post, title:evt.target.value})}\r\n          type=\"text\"  \r\n          placeholder=\"название поста\"\r\n        />\r\n        <Myinput\r\n          value={post.body||''}\r\n          onChange = {evt=>setPost({ ...post, body:evt.target.value})} \r\n          type=\"text\" \r\n          placeholder=\"описание поста\"\r\n        />\r\n        <Mybutton>создать пост</Mybutton>\r\n      </form> \r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Mybutton from './UI/button/Mybutton'\r\n\r\nexport default function Postitem(props) {\r\n  const router = useHistory();\r\n  console.log(router);\r\n    return (\r\n        <div className=\"post\">\r\n        <div className=\"post_content\">\r\n          <strong>{props.post.id} {props.post.title}</strong>\r\n            <div> \r\n              {props.post.body}\r\n            </div>\r\n        </div>\r\n        <div className=\"post_btns\">\r\n          <Mybutton onClick={() => router.push(`/posts/${props.post.id}`)}>\r\n            открыть \r\n          </Mybutton>\r\n          <Mybutton onClick={() => props.remove(props.post)}>\r\n            удалить\r\n          </Mybutton>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { TransitionGroup,CSSTransition } from 'react-transition-group'\r\nimport Postitem from './Postitem'\r\n\r\n\r\nexport default function Postlist({posts, title, remove}) {\r\n    if(!posts.length){\r\n        return (\r\n            <h1 style={{textAlign:\"center\"}}>Посты не найдены!</h1>\r\n        )\r\n    }\r\n    return (\r\n        <div>\r\n            <h1 style={{textAlign:'center'}}>{title}</h1>\r\n            <TransitionGroup>\r\n                {posts.map((post,index) =>\r\n                    <CSSTransition\r\n                        key={post.id}\r\n                        timeout={500}\r\n                        classNames=\"post\"\r\n                    >                    \r\n                        <Postitem remove={remove} number={index + 1} post={post}/>\r\n                    </CSSTransition>\r\n                )}\r\n            </TransitionGroup>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport cl from './MyModal.module.css';\r\nexport default function MyModal({children, visible, setVisible}) {\r\n    \r\n    const rootClasses = [cl.myModal];\r\n\r\n    if(visible){\r\n        rootClasses.push(cl.active);\r\n    }\r\n    return (\r\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\r\n            <div className={cl.myModalContent} onClick={e=> e.stopPropagation()}>\r\n                {children}\r\n             </div>\r\n        </div>\r\n    )\r\n}\r\n","export const getPagesCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for (let i = 0; i< totalPages; i++){\r\n        result.push(i+1);\r\n    }\r\n    return result;\r\n}","import React from 'react'\r\nimport {getPagesArray} from '../../../utils/pages';\r\n\r\n\r\n\r\nexport default function pagination({totalPages, changePage, page}) {\r\n  let pagesArray = getPagesArray(totalPages);\r\n    return (\r\n        <div className=\"page__wrapper\">\r\n        {pagesArray.map(p => \r\n          <span\r\n            onClick={() => changePage(p)} \r\n            key={p}  \r\n            className={page === p ? 'page page__current':'page'}\r\n          >\r\n            {p}\r\n          </span>\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n","import {useMemo} from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort)  => {\r\n    const sortedPosts = useMemo( () => {\r\n        console.log('Ф/Я getSortedPosts')\r\n        if(sort){\r\n          return [...posts].sort((a,b) => a[sort].localeCompare(b[sort]));\r\n        }\r\n        return posts;\r\n      },[sort, posts])\r\n\r\n      return sortedPosts;\r\n}\r\n\r\n\r\nexport const usePosts = (posts, sort, query)  => {\r\n    const sortedPosts = useSortedPosts(posts,sort)\r\n    const sortedAndSearchPosts = useMemo(() => {\r\n        return sortedPosts.filter(post => post.title.toLowerCase().includes(query))\r\n      },[query, sortedPosts])\r\n    return sortedAndSearchPosts;\r\n}","import React,{useState,useEffect} from \"react\";\r\nimport PostService from \"../API/PostService\";\r\nimport PostFilter from \"../components/PostFilter\";\r\nimport Postform from \"../components/Postform\";\r\nimport Postlist from \"../components/Postlist\";\r\nimport Mybutton from \"../components/UI/button/Mybutton\";\r\nimport Loader from \"../components/UI/Loader/Loader\";\r\nimport MyModal from \"../components/UI/MyModal/MyModal\";\r\nimport Pagination from \"../components/UI/pagination/Pagination\";\r\n\r\n\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport { usePosts } from \"../hooks/usePosts\";\r\nimport {getPagesCount} from \"../utils/pages\";\r\n\r\n\r\n\r\nfunction Posts() {\r\n  const [posts,setPosts]= useState([]);\r\n  const [filter,setFilter] = useState({sort:'', query:''})\r\n  const [modal,setModal] = useState(false);\r\n  const [limit,setLimit] = useState(10);\r\n  const [page,setPage] = useState(1);\r\n  const sortedAndSearchPosts = usePosts(posts,filter.sort,filter.query);\r\n  const [totalPages,setTotalPages] = useState(0);\r\n  const [fetchPosts, isPostLoading,postError] = useFetching(async () => { \r\n    const response = await PostService.getAll(limit, page);\r\n    setPosts(response.data)\r\n    const totalCount = response.headers['x-total-count'];\r\n    setTotalPages(getPagesCount(totalCount,limit));\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, [page])\r\n\r\nconst createPost = (newPost) => {\r\n  setPosts([...posts,newPost]);\r\n  setModal(false);\r\n}\r\n\r\nconst removePost = (post) => {\r\n  console.log(post);\r\n  setPosts(posts.filter(p => p.id !== post.id));\r\n}\r\n\r\nconst changePage = (page) => {\r\n  setPage(page)\r\n}\r\n  return (\r\n    <div className=\"App\">\r\n      <Mybutton style={{marginTop:30}} onClick={() => setModal(true)}>\r\n        Создать пользователья\r\n      </Mybutton>\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <Postform create={createPost}/>\r\n      </MyModal>\r\n      <hr style={{margin:\"15px 0\"}}/>\r\n      <PostFilter \r\n        filter={filter} \r\n        setFilter={setFilter}\r\n      />\r\n      {\r\n      postError && \r\n        <h1>Произошла ошибка ${postError}</h1>\r\n      }\r\n      {\r\n        isPostLoading\r\n          ? <div style={{display:'flex',justifyContent:'center',marginTop:50}}><Loader /></div> \r\n          : <Postlist remove={removePost} posts={sortedAndSearchPosts} title=\"Посты про Js\"/>\r\n      }\r\n      <Pagination totalPages={totalPages} changePage={changePage} page={page}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n","import About from \"../pages/About\";\r\nimport PostIdPages from \"../pages/PostIdPages\";\r\nimport Posts from \"../pages/Posts\";\r\n\r\nexport const routes = [\r\n    {path:'/about', component:About, exact:true},\r\n    {path:'/posts', component:Posts, exact:true},\r\n    {path:'/posts/:id', component:PostIdPages, exact:true},\r\n]","import React from 'react'\r\n\r\nexport default function About() {\r\n    return (\r\n        <h1>\r\n            Текст\r\n        </h1>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport PostService from '../API/PostService';\r\nimport Loader from '../components/UI/Loader/Loader';\r\nimport { useFetching } from '../hooks/useFetching';\r\n\r\nexport default function PostIdPages() {\r\n    const params = useParams();\r\n    const [post,setPost] = useState({});\r\n    const [comments,setComments] = useState([]);\r\n    const [fetchPostById, isLoading] = useFetching( async () => {\r\n        const response =await PostService.getById(params.id);\r\n        setPost(response.data);\r\n    })\r\n    const [fetchComments, isCommentLoading] = useFetching( async () => {\r\n        const response =await PostService.getCommentsByPostId(params.id);\r\n        setComments(response.data);\r\n    })\r\n    useEffect(() => {\r\n        fetchPostById(params.id);\r\n        fetchComments(params.id);\r\n    },[])\r\n    return (\r\n        <div>\r\n            <h1>Вы открыли страницу поста с ID = {params.id}</h1>\r\n            {isLoading\r\n            ? <Loader/>\r\n            : <div>{post.id} {post.title} </div> \r\n            }\r\n            <h1>Комментарии</h1>\r\n            {isCommentLoading\r\n            ? <Loader/>\r\n            : <div>\r\n                {comments.map(comm => \r\n                    <div style={{marginTop:15}}>\r\n                        <h5>{comm.email}</h5>\r\n                        <div>{comm.body}</div>\r\n                    </div>    \r\n                )}\r\n            </div> \r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Switch,Route,Redirect} from \"react-router-dom\";\r\nimport { routes } from '../router';\r\nexport default function AppRouter() {\r\n    return (\r\n        <Switch>\r\n          {routes.map( route => \r\n            <Route component={route.component} path={route.path} exact={route.exact}/>\r\n          )}\r\n          <Redirect to=\"/posts\"/>\r\n        </Switch>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nexport default function Navbar() {\r\n    return (\r\n        <div className=\"navbar\">\r\n        <div className=\"navbar__links\">\r\n          <Link to=\"/about\">О сайте</Link>\r\n          <Link to=\"/posts\">Посты</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React from \"react\";\nimport { BrowserRouter} from \"react-router-dom\";\nimport '../src/styles/App.css';\nimport AppRouter from \"./components/AppRouter\";\nimport Navbar from \"./components/UI/Navbar/Navbar\";\n\n\n\n\nfunction App() {\n  return (\n    <BrowserRouter>\n        <Navbar/>\n        <AppRouter/>\n    </BrowserRouter>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}